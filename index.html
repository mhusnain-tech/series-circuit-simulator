<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Series Circuit Simulator</title>
    <link rel="stylesheet" href="styles/series.css">
</head>
<body>
    
    <h1>What is a Series Circuit?</h1>
    <p class="description-text">
        A series circuit is a simple circuit that allows electrons to pass between one or more resistors. 
        Anything that draws power from a cell is referred to as a resistor (like a bulb). In a series circuit, 
        components are connected end-to-end in a single path, with no branches.
    </p>

    <div class="container" style="text-align: center;">
        <img id="myimg" src="images/off_bulb.png" alt="Bulb Status" style="width:150px;">
        <div class="button-container">
            <button onclick="off()">OFF</button>
            <button onclick="on()">ON</button>
        </div>
    </div>

    <hr style="width: 80%; margin: 20px 0;">

    <div class="simulator-section">
        <h3>1. Calculate Total Resistance (Rt)</h3>
        <p>Formula: $R_t = R_1 + R_2 + R_3$</p>
        <img src="images/series.png" alt="Series Diagram">
        <div class="input-overlay">
            <input type="number" placeholder="R1" id="r1">
            <input type="number" placeholder="R2" id="r3">
            <input type="number" placeholder="R3" id="r4">
            <input type="text" placeholder="Total Rt" id="R" onclick="calculate()" readonly style="background:#e0f7fa;">
        </div>
    </div>

    <div class="simulator-section">
        <h3>2. Calculate Total Current (It)</h3>
        <p>Formula: $I = V / R_t$</p>
        <img src="images/series.png" alt="Series Diagram">
        <div class="input-overlay">
            <input type="number" placeholder="R1" id="r5">
            <input type="number" placeholder="R2" id="r6">
            <input type="number" placeholder="R3" id="r7">
            <input type="number" placeholder="Volts" id="v" style="top: 80%; left: 45%;">
            <input type="text" placeholder="Total It" id="r" onclick="current()" readonly style="background:#e0f7fa;">
        </div>
    </div>

    <div class="simulator-section">
        <h3>3. Voltage Across Each Resistor</h3>
        <p>Formula: $V_n = I \times R_n$</p>
        <img src="images/voltage.png" alt="Voltage Diagram">
        <div class="input-overlay">
            <input type="text" placeholder="V1" id="v1" onclick="calcVoltageDrop()" readonly>
            <input type="text" placeholder="V2" id="v2" readonly>
            <input type="text" placeholder="V3" id="v3" readonly>
            <input type="number" placeholder="Total V" id="V_input">
        </div>
    </div>

<script>
    function off() {
        document.getElementById('myimg').src = 'images/off_bulb.png';
    }
    
    function on() {
        document.getElementById('myimg').src = 'images/on_bulb.png';
    }

    // 1. Calculate Total Resistance
    function calculate() {
        var r1 = parseFloat(document.getElementById("r1").value) || 0;
        var r2 = parseFloat(document.getElementById("r3").value) || 0;
        var r3 = parseFloat(document.getElementById("r4").value) || 0;
        var total = r1 + r2 + r3;
        document.getElementById("R").value = total.toFixed(2) + " Î©";
    }

    // 2. Calculate Total Current
    function current() {    
        var r1 = parseFloat(document.getElementById("r5").value) || 0;
        var r2 = parseFloat(document.getElementById("r6").value) || 0;
        var r3 = parseFloat(document.getElementById("r7").value) || 0;
        var voltage = parseFloat(document.getElementById("v").value) || 0;
        
        var totalR = r1 + r2 + r3;
        if(totalR > 0) {
            var i = voltage / totalR;
            document.getElementById("r").value = i.toFixed(2) + " A";
        } else {
            alert("Resistance cannot be zero!");
        }
    }

    // 3. Calculate Voltage Drop (Physics Logic: V = I * R)
    function calcVoltageDrop() {
        // Pehle current calculate karna hoga
        var r1 = parseFloat(document.getElementById("r5").value) || 0;
        var r2 = parseFloat(document.getElementById("r6").value) || 0;
        var r3 = parseFloat(document.getElementById("r7").value) || 0;
        var vTotal = parseFloat(document.getElementById("v").value) || 0;
        
        var totalR = r1 + r2 + r3;
        if(totalR > 0) {
            var currentVal = vTotal / totalR;
            
            // Har resistor ka apna voltage drop
            document.getElementById("v1").value = (currentVal * r1).toFixed(2) + "V";
            document.getElementById("v2").value = (currentVal * r2).toFixed(2) + "V";
            document.getElementById("v3").value = (currentVal * r3).toFixed(2) + "V";
        } else {
            alert("Please fill the Current section values first!");
        }
    }
</script>
</body>
</html>
